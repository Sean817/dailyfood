# 孕妇饮食记录应用

一个专为孕妇设计的饮食记录、血糖监测和营养分析网页应用。

## 功能特点

### 🍽️ 食物记录
- **记录每日饮食**：轻松记录早餐、午餐、晚餐和加餐
- **智能搜索**：快速搜索和选择常见食物
- **食物分类**：按类别组织食物，方便查找
- **营养计算**：自动计算每餐的营养成分

### 📊 血糖记录
- **每日四次测量**：记录空腹、早餐后2h、午餐后2h、晚餐后2h血糖
- **自动关联餐次**：餐后血糖自动关联对应餐次，便于分析
- **状态提示**：根据血糖值显示正常/偏高/偏低状态
- **时间记录**：自动记录测量时间，支持手动调整

### 📈 营养分析
- **全面分析**：自动计算热量、蛋白质、脂肪、碳水化合物等10+种营养素
- **进度显示**：可视化进度条显示营养达标情况
- **餐次分析**：分别统计各餐次的营养摄入

### 📅 日历视图
- **日期导航**：快速切换日期查看历史记录
- **记录标记**：日历上标记有记录的日期
- **状态显示**：显示营养和血糖记录完成情况

### 🔐 账号管理
- **安全登录**：管理员账号保护
- **数据保护**：本地存储，数据安全

### 🗄️ 食物数据库
- **知识库管理**：管理食物营养数据库
- **数据导入**：支持导入食物数据
- **自定义编辑**：添加、编辑、删除食物信息

## 技术栈

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite
- **样式框架**：Tailwind CSS
- **数据存储**：LocalStorage（浏览器本地存储）

## 安装和运行

### 1. 安装依赖
```bash
npm install
```

### 2. 启动开发服务器
```bash
npm run dev
```

### 3. 构建生产版本
```bash
npm run build
```

### 4. 预览生产版本
```bash
npm run preview
```

## Docker 部署

### 使用 Docker Compose（推荐）

1. 在项目根目录执行：
```bash
cd docker
docker-compose up -d
```

2. 查看日志：
```bash
docker-compose logs -f
```

3. 停止服务：
```bash
docker-compose down
```

4. 访问应用：
打开浏览器访问 `http://localhost:8080`

### 使用 Dockerfile 构建

**重要**: 必须在项目根目录执行构建命令！

1. 构建 Docker 镜像：
```bash
# 在项目根目录执行
docker build -f docker/Dockerfile -t dailyfood:latest .
```

2. 运行容器：
```bash
docker run -d -p 8080:80 --name dailyfood-app dailyfood:latest
```

3. 访问应用：
打开浏览器访问 `http://localhost:8080`

## 使用说明

### 记录食物
1. 在左侧"🍽️ 食物记录"表单中选择食物名称
2. 输入食物数量（克）
3. 选择餐次（早餐/午餐/晚餐/加餐）
4. 点击"添加"按钮

### 记录血糖
1. 在左侧"📊 血糖记录"表单中选择测量类型
   - **空腹**：早晨空腹测量
   - **早餐后2h**：早餐后2小时测量（自动关联早餐）
   - **午餐后2h**：午餐后2小时测量（自动关联午餐）
   - **晚餐后2h**：晚餐后2小时测量（自动关联晚餐）
2. 输入血糖值（mmol/L）
3. 测量时间会自动填充当前时间，可手动调整
4. 可添加备注信息
5. 点击"添加记录"或"更新记录"按钮

### 查看结果
右侧结果区域集中显示：
- **食物清单**：按餐次分组显示，显示关联的餐后血糖
- **血糖记录**：显示当天的所有血糖记录及状态
- **营养分析**：显示营养摄入情况和达标进度

### 日历导航
- 点击导航栏的日期按钮或日历图标打开日历视图
- 点击日期快速切换查看不同日期的记录
- 日历上标记有记录的日期

## 营养目标

应用基于孕妇（孕中期）的营养需求标准：
- **热量**：2200 千卡/天
- **蛋白质**：75 克/天
- **脂肪**：适量
- **碳水化合物**：适量
- **膳食纤维**：25 克/天
- **钙**：1000 毫克/天
- **铁**：27 毫克/天
- **叶酸**：600 微克/天
- **维生素C**：85 毫克/天
- **维生素A**：770 微克/天

## 血糖参考范围

- **空腹血糖**：3.9-5.6 mmol/L（正常）
- **餐后2h血糖**：<7.8 mmol/L（正常）

*注意：具体营养需求和血糖控制目标因人而异，请咨询专业医生。*

## 数据存储

- 所有数据保存在浏览器本地（LocalStorage）
- 数据不会上传到服务器，保护隐私
- 清除浏览器数据会删除所有记录，请注意备份

## 项目结构

```
src/
├── components/          # React 组件
│   ├── FoodForm.tsx     # 食物记录表单
│   ├── FoodList.tsx     # 食物列表
│   ├── BloodSugarForm.tsx   # 血糖记录表单
│   ├── BloodSugarList.tsx   # 血糖列表
│   ├── NutritionAnalysis.tsx # 营养分析
│   ├── CalendarView.tsx      # 日历视图
│   └── ...
├── data/               # 数据文件
│   └── foodDatabase.ts # 食物数据库
├── utils/              # 工具函数
│   ├── storage.ts      # 存储工具
│   ├── nutrition.ts    # 营养计算
│   └── ...
└── types.ts            # TypeScript 类型定义
```

## 开发说明

- 使用 TypeScript 确保类型安全
- 使用 Tailwind CSS 进行样式设计
- 响应式设计，支持移动端和桌面端
- 组件化开发，易于维护和扩展

## 许可证

MIT License

